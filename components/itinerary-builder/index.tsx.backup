"use client"

import { useState, useEffect } from "react"
import { Card, CardContent } from "@/components/ui/card"
import { Button } from "@/components/ui/button"
import { ArrowLeft } from "lucide-react"

const COUNTRY_OPTIONS = [
  "India", "Thailand", "France", "USA", "Australia", "Japan", "Italy", "Spain", "UK", "Germany"
]

interface ItineraryBuilderProps {
  itineraryId?: string
  onBack: () => void
}

const EMPTY_DAY: IItineraryDay = {
  day: 1,
  date: new Date().toISOString(),
  events: [],
  meals: {
    breakfast: false,
    lunch: false,
    dinner: false
  }
}

export function ItineraryBuilder({ itineraryId, onBack }: ItineraryBuilderProps) {
  // States
  const [activeSidebar, setActiveSidebar] = useState("library")
  const [title, setTitle] = useState("")
  const [description, setDescription] = useState("")
  const [productId, setProductId] = useState("")
  const [days, setDays] = useState<IItineraryDay[]>([])
  const [isDetailedView, setIsDetailedView] = useState(false)
  const [editingEvent, setEditingEvent] = useState<any>(null)
  const [componentSourceModal, setComponentSourceModal] = useState({
    isOpen: false,
    dayIndex: -1,
  })

  return (
    <div className="flex h-screen overflow-hidden">
      {/* Left Navigation */}
      <div className="w-64 border-r bg-background overflow-y-auto flex-shrink-0">
        <div className="p-4 sticky top-0">
          <Button variant="ghost" onClick={onBack} className="w-full justify-start">
            <ArrowLeft className="w-4 h-4 mr-2" />
            Back
          </Button>
        </div>
      </div>
    </div>
  )
}
